import { formatCurrency } from "../utils/formatCurrency";
import { CurrencyType } from "../utils/typeConfig";

type CardProps = {
  balance: number | string;
  cardNo: string;
  expiryDate: string | number;
  currency?: CurrencyType;
};

export const MasterCard = ({
  balance = 0,
  cardNo,
  expiryDate,
  currency,
}: CardProps) => {
  const maskedNumber = cardNo
    ? "**** **** " + cardNo.slice(-4)
    : "**** **** **** ****";

  return (
    <svg
      width="100%"
      height="100%"
      viewBox="0 0 315 184"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="315" height="184" fill="white" />
      <rect width="315" height="184" rx="30" fill="url(#paint0_linear_0_1)" />
      <mask
        id="mask0_0_1"
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="315"
        height="184"
      >
        <rect width="315" height="184" rx="30" fill="#ED713C" />
      </mask>
      <g mask="url(#mask0_0_1)">
        <ellipse
          opacity="0.1"
          cx="24.5"
          cy="213"
          rx="160.5"
          ry="113"
          fill="black"
        />
        <ellipse
          opacity="0.08"
          cx="290.5"
          cy="-29"
          rx="160.5"
          ry="113"
          fill="black"
        />
      </g>
      <text
        fill="white"
        xmlSpace="preserve"
        fontFamily="Cera Pro"
        fontSize="14"
        letterSpacing="0.5px"
      >
        <tspan x="243.775" y="159.312" className="font-sans">
          {expiryDate}
        </tspan>
      </text>
      <text
        opacity="0.9"
        fill="white"
        xmlSpace="preserve"
        fontFamily="Cera Pro"
        fontSize="14"
        letterSpacing="0.5px"
      >
        <tspan x="30" y="159.312" className="font-sans">
          {maskedNumber}
        </tspan>
      </text>
      <path
        d="M256.416 27.9742H268.584V49.8367H256.416V27.9742Z"
        fill="#FF5F00"
      />
      <path
        d="M248.189 60.8409V58.5234C248.189 57.6348 247.648 57.0556 246.721 57.0556C246.258 57.0556 245.756 57.2101 245.408 57.7123C245.138 57.2873 244.751 57.0556 244.172 57.0556C243.786 57.0556 243.4 57.1714 243.09 57.5963V57.1328H242.279V60.8409H243.09V58.7937C243.09 58.1372 243.438 57.828 243.979 57.828C244.52 57.828 244.79 58.1757 244.79 58.7937V60.8409H245.601V58.7937C245.601 58.1372 245.987 57.828 246.49 57.828C247.03 57.828 247.301 58.1757 247.301 58.7937V60.8409H248.189ZM260.202 57.1328H258.889V56.0127H258.078V57.1328H257.344V57.8666H258.077V59.5663C258.077 60.4162 258.425 60.9182 259.352 60.9182C259.7 60.9182 260.086 60.8024 260.357 60.6479L260.125 59.9525C259.893 60.107 259.623 60.1457 259.429 60.1457C259.043 60.1457 258.889 59.914 258.889 59.5276V57.8666H260.202V57.1328ZM267.077 57.0554C266.614 57.0554 266.305 57.2873 266.112 57.5963V57.1328H265.301V60.8409H266.112V58.7551C266.112 58.1372 266.382 57.7895 266.884 57.7895C267.039 57.7895 267.232 57.8282 267.386 57.8668L267.618 57.0943C267.464 57.0556 267.232 57.0556 267.077 57.0556V57.0554ZM256.687 57.4418C256.301 57.1714 255.76 57.0556 255.18 57.0556C254.254 57.0556 253.636 57.5191 253.636 58.253C253.636 58.8711 254.099 59.2186 254.91 59.3346L255.296 59.3733C255.721 59.4503 255.953 59.5663 255.953 59.7595C255.953 60.0298 255.644 60.223 255.103 60.223C254.562 60.223 254.138 60.0298 253.867 59.8367L253.481 60.4547C253.906 60.7637 254.485 60.9182 255.064 60.9182C256.146 60.9182 256.764 60.4162 256.764 59.7208C256.764 59.0641 256.262 58.7164 255.489 58.6007L255.103 58.562C254.756 58.5232 254.485 58.4462 254.485 58.2144C254.485 57.944 254.756 57.7895 255.18 57.7895C255.644 57.7895 256.108 57.9825 256.339 58.0985L256.687 57.4418ZM278.241 57.0556C277.777 57.0556 277.468 57.2873 277.275 57.5963V57.1328H276.464V60.8409H277.275V58.7551C277.275 58.1372 277.545 57.7895 278.047 57.7895C278.202 57.7895 278.395 57.8282 278.549 57.8668L278.781 57.0943C278.627 57.0556 278.395 57.0556 278.241 57.0556ZM267.889 58.9869C267.889 60.107 268.661 60.9182 269.859 60.9182C270.399 60.9182 270.785 60.8024 271.172 60.4934L270.785 59.8367C270.477 60.0685 270.168 60.1843 269.82 60.1843C269.163 60.1843 268.7 59.7208 268.7 58.9869C268.7 58.2917 269.163 57.828 269.82 57.7895C270.168 57.7895 270.477 57.9053 270.785 58.1372L271.172 57.4805C270.785 57.1714 270.399 57.0556 269.859 57.0556C268.661 57.0556 267.889 57.8668 267.889 58.9869ZM275.382 58.9869V57.1328H274.571V57.5963C274.301 57.2488 273.914 57.0556 273.412 57.0556C272.369 57.0556 271.558 57.8668 271.558 58.9869C271.558 60.107 272.369 60.9182 273.412 60.9182C273.953 60.9182 274.339 60.7251 274.571 60.3774V60.8409H275.382V58.9869ZM272.408 58.9869C272.408 58.3302 272.833 57.7895 273.528 57.7895C274.185 57.7895 274.648 58.2917 274.648 58.9869C274.648 59.6435 274.185 60.1843 273.528 60.1843C272.833 60.1455 272.408 59.6435 272.408 58.9869ZM262.713 57.0556C261.631 57.0556 260.858 57.828 260.858 58.9869C260.858 60.1457 261.631 60.9182 262.751 60.9182C263.292 60.9182 263.833 60.7637 264.258 60.4162L263.871 59.8367C263.562 60.0685 263.176 60.223 262.79 60.223C262.288 60.223 261.786 59.9912 261.67 59.3344H264.412V59.0256C264.451 57.828 263.756 57.0556 262.713 57.0556H262.713ZM262.713 57.7508C263.215 57.7508 263.563 58.06 263.64 58.6394H261.708C261.786 58.1372 262.133 57.7508 262.713 57.7508ZM282.837 58.9869V55.665H282.026V57.5963C281.755 57.2488 281.369 57.0556 280.867 57.0556C279.824 57.0556 279.013 57.8668 279.013 58.9869C279.013 60.107 279.824 60.9182 280.867 60.9182C281.408 60.9182 281.794 60.7251 282.026 60.3774V60.8409H282.837V58.9869ZM279.863 58.9869C279.863 58.3302 280.288 57.7895 280.983 57.7895C281.64 57.7895 282.103 58.2917 282.103 58.9869C282.103 59.6435 281.64 60.1843 280.983 60.1843C280.288 60.1455 279.863 59.6435 279.863 58.9869ZM252.747 58.9869V57.1328H251.936V57.5963C251.665 57.2488 251.279 57.0556 250.777 57.0556C249.734 57.0556 248.923 57.8668 248.923 58.9869C248.923 60.107 249.734 60.9182 250.777 60.9182C251.318 60.9182 251.704 60.7251 251.936 60.3774V60.8409H252.747V58.9869ZM249.734 58.9869C249.734 58.3302 250.159 57.7895 250.854 57.7895C251.511 57.7895 251.975 58.2917 251.975 58.9869C251.975 59.6435 251.511 60.1843 250.854 60.1843C250.159 60.1455 249.734 59.6435 249.734 58.9869Z"
        fill="white"
      />
      <path
        d="M257.189 38.9055C257.189 34.4635 259.275 30.5236 262.48 27.9742C260.124 26.1201 257.15 25 253.906 25C246.219 25 240 31.2188 240 38.9055C240 46.5921 246.219 52.811 253.906 52.811C257.15 52.811 260.124 51.6909 262.48 49.8367C259.275 47.326 257.189 43.3475 257.189 38.9055Z"
        fill="#EB001B"
      />
      <path
        d="M285 38.9055C285 46.5921 278.781 52.811 271.094 52.811C267.849 52.811 264.875 51.6909 262.519 49.8367C265.764 47.2874 267.811 43.3475 267.811 38.9055C267.811 34.4635 265.725 30.5236 262.519 27.9742C264.875 26.1201 267.849 25 271.094 25C278.781 25 285 31.2575 285 38.9055H285Z"
        fill="#F79E1B"
      />
      <text
        fill="white"
        xmlSpace="preserve"
        fontFamily="Cera Pro"
        fontSize="28"
        letterSpacing="0px"
      >
        <tspan x="30" y="78.124" className="font-sans">
          {formatCurrency(balance, currency)}
        </tspan>
      </text>
      <text
        opacity="0.54"
        fill="white"
        xmlSpace="preserve"
        fontFamily="Cera Pro"
        fontSize="14"
        letterSpacing="0px"
      >
        <tspan x="30" y="43.312" className="font-sans">
          Current Balance
        </tspan>
      </text>
      <defs>
        <linearGradient
          id="paint0_linear_0_1"
          x1="158.586"
          y1="-30.5053"
          x2="165.299"
          y2="207.036"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#4AF32C" />
          <stop offset="1" stopColor="#1A4510" />
        </linearGradient>
      </defs>
    </svg>
  );
};
